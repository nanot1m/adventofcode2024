var e=globalThis,t={},r={},o=e.parcelRequire94c2;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in r){var o=r[e];delete r[e];var i={id:e,exports:{}};return t[e]=i,o.call(i.exports,i,i.exports),i.exports}var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){r[e]=t},e.parcelRequire94c2=o),o.register,o("jOplp");var i=o("d81pG"),n=o("iHpWs");const s=n.Array2d.parse;var n=o("iHpWs"),a=o("7zFg5");const l=document.getElementById("canvas");if(!(l instanceof HTMLCanvasElement))throw Error("no canvas");const d=l.getContext("2d");if(!d)throw Error("no ctx");(0,a.scaleCanvasToPixelRatio)(d,300,300);const c={green:"#91cfa1",red:"#ea859a",yellow:"#fef59d",black:"black",white:"white"};let p=()=>{};const f=document.createElement("div");f.style.position="fixed",f.style.zIndex="1000",f.style.pointerEvents="none",f.style.padding="5px",f.style.border="1px solid black",f.style.borderRadius="5px",f.style.backgroundColor="white",f.style.color="black",f.style.display="none",f.style.fontFamily="monospace",f.style.fontSize="12px",document.body.appendChild(f);const y=document.getElementById("input-form");if(!(y instanceof HTMLFormElement))throw Error("no form");y.addEventListener("submit",function(e){e.preventDefault();let t=new FormData(this);!function(e,t,r){cancelAnimationFrame(0),p();let o=s(e),d=o[0].length,y=o.length;(0,a.scaleCanvasToPixelRatio)(t,10*d,10*y),t.canvas.scrollIntoView({behavior:"smooth"});let v=(e,r,o,i=c.white)=>{t.font="10px monospace",t.textAlign="center",t.textBaseline="middle",t.fillStyle=i,t.fillText(o,10*e+5,10*r+5)},u=-1,m=-1,x=(e,t,r)=>{f.textContent=r,f.style.left=`${e}px`,f.style.top=`${t-30}px`,f.style.display="block"},h=()=>{f.style.display="none"},{result:g,visited:b,end:w,start:E}=function(e){let t=(0,n.Array2d).traverse(e).find(e=>"S"===e.value).pos,r=(0,n.Array2d).traverse(e).find(e=>"E"===e.value).pos,o=(0,i.dijkstra)(t=>[{pos:(0,n.V).add(t.pos,n.V.DIRS_4[t.dir]),cost:1,dir:t.dir},{pos:t.pos,cost:1e3,dir:(0,n.Lib).mod(t.dir+1,4)},{pos:t.pos,cost:1e3,dir:(0,n.Lib).mod(t.dir-1,4)}].filter(t=>"#"!==(0,n.Array2d).get(e,t.pos)),e=>e.cost,[{pos:t,cost:0,dir:1}],e=>`${e.pos[0]},${e.pos[1]},${e.dir}`).find(e=>(0,n.V).eq(e.value.pos,r)),s=new Set;return function e(t){for(let r of(s.add(t),t.predecessors))e(r)}(o),{result:o,visited:Array.from(s).sort((e,t)=>e.distance-t.distance),start:t,end:r}}(o);(()=>{p();let e=(0,n.Array2d).map(o,(e,t)=>"#"===e?{type:"wall",distance:0,dir:0}:(0,n.V).eq(t,E)?{type:"start",distance:0,dir:1}:(0,n.V).eq(t,w)?{type:"end",distance:0,dir:0}:{type:"empty",distance:0,dir:0});for(let t of b)if(!(0,n.V).eq(t.value.pos,E)){if((0,n.V).eq(t.value.pos,w)){(0,n.Array2d).set(e,t.value.pos,{type:"end",distance:t.distance,dir:t.value.dir});continue}(0,n.Array2d).set(e,t.value.pos,{type:"visited",distance:t.distance,dir:t.value.dir})}function r(){for(let r of(t.fillStyle=c.black,t.fillRect(0,0,t.canvas.width,t.canvas.height),(0,n.Array2d).traverse(e))){let{type:e}=r.value,[o,i]=r.pos,n=o===u&&i===m?c.black:c.white;switch(o===u&&i===m&&(t.fillStyle=c.yellow,t.fillRect(10*o,10*i,10,10)),e){case"wall":v(o,i,"#",c.green);break;case"start":v(o,i,"S",n);break;case"end":v(o,i,"E",n);break;case"empty":v(o,i,".",n);break;case"visited":v(o,i,["^",">","v","<"][r.value.dir],c.red)}}}function i(t){let o=Math.floor(t.offsetX/10),i=Math.floor(t.offsetY/10);u=o,m=i;let s=(0,n.V).vec(o,i),a=(0,n.Array2d).get(e,s);a&&["visited","start","end"].includes(a.type)?(r(),x(t.clientX,t.clientY,`${a.type} ${a.distance}`)):(r(),h())}r(),l&&(l.addEventListener("mousemove",i),p=()=>l.removeEventListener("mousemove",i))})()}((t.get("input")?.toString()??"").trim(),d,t.get("part2")?.toString())}),y.querySelector("#input").textContent=`\
###########
##...######
##.#.######
##.#.....E#
##.#####.##
#S...###.##
####.###.##
####.###.##
####.###.##
####.###.##
####.....##
###########`;
//# sourceMappingURL=index.a92021d6.js.map
